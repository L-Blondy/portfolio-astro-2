---
import type { HTMLAttributes } from 'astro/types';
import { cn } from 'src/utils';
import NavLinks from './NavLinks.astro';

export interface Props extends HTMLAttributes<'button'> {}

const { class: className = '', ...props } = Astro.props;
---

<button
   class={cn`
      peer
      group
      h-14
      w-14
      p-3
      flex
      flex-col
      items-center
      justify-evenly
      -mr-4
      transition-all
      duration-500
      z-10
      ${className}
   `}
   aria-label="toggle navigation menu"
   {...props}
>
   <div class="h-0.5 mb-0.5 flex-shrink-0 bg-primary w-full"></div>
   <div class="h-0.5 flex-shrink-0 bg-primary ml-auto w-3/4"></div>
   <div class="h-0.5 mt-0.5 flex-shrink-0 bg-primary ml-auto w-1/2"></div>

   <div
      class={cn`
         transform
         translate-x-full
         group-focus-within:translate-x-0
         transition-transform
         duration-300
         fixed
         top-0
         bottom-0
         right-0
         bg-base-100
         p-10
         backdrop-shadow
      `}
   >
      <NavLinks class="flex flex-col gap-6 text-lg h-full justify-center" />
   </div>
</button>

<div
   class={cn`
      fixed
      inset-0
      bg-black/30
      pointer-events-none
      opacity-0
      peer-focus-within:opacity-100
      peer-focus-within:pointer-events-auto
      transition-opacity
      duration-500
   `}
>
</div>
